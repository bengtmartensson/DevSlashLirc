<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DevSlashLirc: DevSlashLirc &mdash; Object oriented access to &lt;tt&gt;/dev/lirc&lt;/tt&gt;-hardware.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DevSlashLirc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DevSlashLirc &mdash; Object oriented access to <code>/dev/lirc</code>-hardware. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This library makes objects from <code>/dev/lirc</code>-hardware. These objects have properties like <code>canSend</code> etc., indicating the capabilities of the currently connected hardwarec, and methods like <code>send</code> and <code>receive</code> for sending and receiving. See the examples in <code>src/test/c++</code>.</p>
<p>As opposed to standard C/Lirc, where a device is opened, and it "turns out" that it is "mode2" or "lirccode", here the user has to decide if he wants a mode2 or lirccode device, and open it with the appropriate class. This will fail if the connected hardware does not have the expected properties. For this, there are the concrete classes <code><a class="el" href="classMode2LircDevice.html" title="This class is a LIRC_MODE_MODE2 device as per lirc(4).">Mode2LircDevice</a></code> (modeling a "mode2" device, i.e. with the possibility of handling IR signals with "arbitrary" timings), and <code><a class="el" href="classLircCodeLircDevice.html" title="This class is a LIRC_MODE_LIRCCODE device as per lirc(4).">LircCodeLircDevice</a></code> (modeling a "LircCode" device, i.e. one that can only use IR signals from its own set, and codes them on an integer, representing the IR signal.) The latter class is presently not completely implemented.</p>
<p>The classes may be instantiated multiple times, but of course only one can open a particular device file at a particular time.</p>
<p>The core library is written in C++, using classes and the stdc++ library. There are no other dependencies. In particular, there is no dependency of the Lirc sources, includes, or libraries. Only <code>media/lirc.h</code>, see <code>man 4 lirc</code>, which is considered belonging to the kernel, is included. The C++ code is documented using doxygen.</p>
<p>The C++-code uses the ("non-portable") <code>#pragma once</code> instead of the traditional <a href="https://en.wikipedia.org/wiki/Include_guard">include guards</a>.</p>
<p>The C++ code is compiled into a shared library. This can be linked into application programs (see the test programs in <code>src/test/c++</code>) or used as a JNI library for accessing it from Java. Also a static library is built.</p>
<p>As <code>man 4 lirc</code> shows, there is a large number of hardly ever implemented properties supported. I have followed the "agile" commandment <em>maximize the amount of work not done</em>, and simply ignored the ones not useful or not commonly implemented.</p>
<p>As mentioned, there are also Java bindings using JNI. With some extra effort, bindings from other languages can be added, for example using <a href="https://en.wikipedia.org/wiki/SWIG">SWIG</a>. Contributions are welcome, (see <a href="https://github.com/bengtmartensson/DevSlashLirc/issues/1">issue #1</a>).</p>
<p>The code should compile on any platform supporting <code>/dev/lirc</code>, possibly after adapting the Makefile (see <a href="https://github.com/bengtmartensson/DevSlashLirc/issues/2">issue #2</a>).</p>
<p>A natural extension would be to extend the library to support Lirc plugin drivers. This is discussed in <a href="https://github.com/bengtmartensson/DevSlashLirc/issues/3">issue #3</a>). There is also a branch containing some work in this directon, <code>lircdriver</code>.</p>
<p>Maven is used to compile the Java parts. A Makefile compiles the C++ code, and also invokes the Maven process. Redundantly, to build, just issue the command </p><pre class="fragment"> make lib
</pre><p>On an x86_64, this will build the libraries for x86_32 and x86_64. To build for another architecture without using a cross compiler, log in to an appropriate host, cd to <code>src/main/c++</code>, and issue the command </p><pre class="fragment">make clean all
</pre><p>on that host. Then copy the thus created <code>libdevslashlirc.so</code> to a desired location.</p>
<p>The command </p><pre class="fragment">make doc
</pre><p>creates the Doxygen and Javadoc documentation.</p>
<p>The code is entirely written from scratch (not counting the branch <code>lircdriver</code>).</p>
<h2>Usage</h2>
<p>There is no "install". Just copy the <code>so</code> file and the <code>jar</code> file to anywhere you like. (Or use maven instead of the latter.)</p>
<p>For C++ (or a similar language), just link with the shared library <code>libdevslashlirc.so</code> (alternatively the static library <code>libdevslashlirc.a</code>) in the usual manner.</p>
<p>For Java, copy <code>libdevslashlirc.so</code> to an "arbitrary" location. In the Java code, that library must be loaded with <code>org.harctoolbox.devslashlirc.LircHardware.loadLibrary()</code>. There are two possibilites:</p>
<ol type="1">
<li>Either call <code>loadLibrary()</code> without arguments, (see <code>src/test/java/org/harctoolbox/devslashlirc/Mode2LircDeviceNGTest.java</code> for an example), in which case the actual directory has to be given to the JVM using the <code>-Djava.library.path</code> option (like <code>java -Djava.library.path=/usr/local/lib</code> ...), or,</li>
<li>Call <code>loadLibrary(File)</code> with argument, either the path name of the library, or the path name of the containing directory. For example <code>LircHardware.loadLibrary(new File("/home/trump/covfefe/libdevslashlirc.so"))</code>. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 19 2019 15:15:14 for DevSlashLirc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
